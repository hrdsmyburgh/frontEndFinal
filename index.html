<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
           <title>Internship & Job Portal</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="manifest" href="site.webmanifest">
        <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/flaticon.css">
        <link rel="stylesheet" href="assets/css/price_rangs.css">
        <link rel="stylesheet" href="assets/css/slicknav.css">
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
        <link rel="stylesheet" href="assets/css/themify-icons.css">
        <link rel="stylesheet" href="assets/css/slick.css">
        <link rel="stylesheet" href="assets/css/nice-select.css">
        <link rel="stylesheet" href="assets/css/style.css">

        <style>
            .slicknav_menu { 
                display: none; 
                position: absolute; 
                right: 0;
                top: 15px; 
                max-width: 280px; 
                z-index: 1000; 
                float: right; 
                margin-right: 15px; 
            }

            @media (max-width: 991px) {
                .slicknav_menu {
                    display: block;
                }
            }
            
            .slicknav_nav {
                margin-top: -30px; 
                width: 100%; 
            }
            
            .slicknav_btn {
                float: right; 
                margin: 0; 
            }
            
            .our-services .col-xl-3 a {
                display: block; 
                text-decoration: none; 
                color: inherit; 
            }
            
            .single-services:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            }            .single-services {
                transition: all 0.3s ease;
            }
            
            /* Location autocomplete styling */
            #locationInput {
                height: 70px;
                width: 100%;
                color: #777777;
                font-size: 18px;
                font-weight: 400;
                padding: 9px 33px 9px 32px;
                border: none;
                border-radius: 0px;
                background: #fff;
            }
            
            #locationInput::placeholder {
                color: #616875;
            }
            
            .location-suggestions {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #fff;
                border: 1px solid #e0e4f8;
                border-top: none;
                max-height: 200px;
                overflow-y: auto;
                z-index: 1000;
                display: none;
            }
            
            .location-suggestion-item {
                padding: 10px 15px;
                cursor: pointer;
                border-bottom: 1px solid #f0f0f0;
                font-size: 14px;
                color: #777777;
            }
            
            .location-suggestion-item:hover,
            .location-suggestion-item.active {
                background-color: #f57f17;
                color: #fff;
            }
            
            .location-suggestion-item:last-child {
                border-bottom: none;
            }
            
            .select-itms {
                position: relative;
            }
        </style>
        </head>

    <body>
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="assets/img/logo/logo22.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <header>
        <div class="header-area header-transparrent">
            <div class="header-top header-sticky">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-3 col-md-2">
                            <div class="logo">
                                <a href="index.html"><img src="assets/img/logo/logo22.png" alt="Internship & Job Portal Logo"></a>
                            </div> 
                        </div>
                        <div class="col-lg-9 col-md-9">
                            <div class="menu-wrapper">
                                <div class="main-menu">
                                    <nav class="d-none d-lg-block">
                                        <ul id="navigation">
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="job_listing.html">Find Jobs</a></li>
                                            <li><a href="contact.html">Contact</a></li>
                                            <li><a href="studentprofile.html">My Profile</a></li>
                                            <li><a href="myapplications.html">My Applications</a></li>
                                            <li><a href="employeradminpage.html">Employer Admin</a></li> 
                                        </ul>
                                    </nav>
                                </div>          
                                <div class="header-btn d-none f-right d-lg-block">
                                    <a href="registrationpage.html" class="btn head-btn1">Register</a>
                                    <a href="loginpage.html" class="btn head-btn2">Login</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile_menu d-block d-lg-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </header>
    <main>

        <div class="slider-area ">
            <div class="slider-active">
                <div class="single-slider slider-height d-flex align-items-center" data-background="assets/img/hero/h1_hero.jpg">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-6 col-lg-9 col-md-10">
                                <div class="hero__caption">
                                    <h1>Find the most exciting startup jobs</h1>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xl-8">
                                <form action="#" class="search-box">
                                    <div class="input-form">
                                        <input type="text" placeholder="Job Tittle or keyword">
                                    </div>                                    <div class="select-form">
                                        <div class="select-itms">
                                            <input type="text" id="locationInput" name="location" placeholder="Enter location..." autocomplete="off">
                                            <div id="locationSuggestions" class="location-suggestions"></div>
                                        </div>
                                    </div>
                                    <div class="search-form">
                                        <a href="job_listing.html">Find job</a>
                                    </div>  
                                </form> 
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <div class="our-services section-pad-t30">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center">
                            <span>FEATURED TOURS Packages</span>
                            <h2>Browse Top Categories </h2>
                        </div>
                    </div>
                </div>
                <div class="row d-flex justify-contnet-center">
                        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Design-Creative">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-tour"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Design & Creative</h5>
                                    <span class="job-count" data-category="Design-Creative">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Development">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-cms"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Development</h5>
                                    <span class="job-count" data-category="Development">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Sales-Marketing">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-report"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Sales & Marketing</h5>
                                    <span class="job-count" data-category="Sales-Marketing">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Mobile-Application">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-app"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Mobile Application</h5>
                                    <span class="job-count" data-category="Mobile-Application">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Construction">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-helmet"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Construction</h5>
                                    <span class="job-count" data-category="Construction">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=IT">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-high-tech"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Information Technology</h5>
                                    <span class="job-count" data-category="IT">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Real-Estate">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-real-estate"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Real Estate</h5>
                                    <span class="job-count" data-category="Real-Estate">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <a href="job_listing.html?category=Content-Writer">
                        <div class="single-services text-center mb-30">
                            <div class="services-ion">
                                <span class="flaticon-content"></span>
                            </div>
                            <div class="services-cap">
                                <h5>Content Writer</h5>
                                    <span class="job-count" data-category="Content-Writer">(Loading...)</span>
                            </div>
                        </div>
                        </a>
                    </div>
                        </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="browse-btn2 text-center mt-50">
                            <a href="job_listing.html" class="border-btn2">Browse All Sectors</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="online-cv cv-bg section-overly pt-90 pb-120"  data-background="assets/img/gallery/cv_bg.jpg">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-10">
                        <div class="cv-caption text-center">
                            <p class="pera1">FEATURED TOURS Packages</p>
                            <p class="pera2"> Make a Difference with Your Online Resume!</p>
                            <a href="#" class="border-btn2 border-btn4">Upload your cv</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section class="featured-job-area feature-padding">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center">
                            <span>Recent Job</span>
                            <h2>Featured Jobs</h2>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-xl-10">
                        <div class="single-job-items mb-30">
                            <div class="job-items">
                                <div class="company-img">
                                    <a href="job_details.html"><img src="assets/img/icon/job-list1.png" alt=""></a>
                                </div>
                                <div class="job-tittle">
                                    <a href="job_details.html"><h4>Digital Marketer</h4></a>
                                    <ul>
                                        <li>Creative Agency</li>
                                        <li><i class="fas fa-map-marker-alt"></i>Johannesburg, SA</li>
                                        <li>R3500 - R10000</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="items-link f-right">
                                <a href="job_details.html">Full Time</a>
                                <span>7 hours ago</span>
                            </div>
                        </div>
                        <div class="single-job-items mb-30">
                            <div class="job-items">
                                <div class="company-img">
                                    <a href="job_details.html"><img src="assets/img/icon/job-list2.png" alt=""></a>
                                </div>
                                <div class="job-tittle">
                                    <a href="job_details.html"><h4>Digital Marketer</h4></a>
                                    <ul>
                                        <li>Creative Agency</li>
                                        <li><i class="fas fa-map-marker-alt"></i>Johannesburg, SA</li>
                                        <li>R3500 - R10000</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="items-link f-right">
                                <a href="job_details.html">Full Time</a>
                                <span>7 hours ago</span>
                            </div>
                        </div>
                         <div class="single-job-items mb-30">
                            <div class="job-items">
                                <div class="company-img">
                                    <a href="job_details.html"><img src="assets/img/icon/job-list3.png" alt=""></a>
                                </div>
                                <div class="job-tittle">
                                    <a href="job_details.html"><h4>Digital Marketer</h4></a>
                                    <ul>
                                        <li>Creative Agency</li>
                                        <li><i class="fas fa-map-marker-alt"></i>Johannesburg, SA</li>
                                        <li>R3500 - R10000</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="items-link f-right">
                                <a href="job_details.html">Full Time</a>
                                <span>7 hours ago</span>
                            </div>
                        </div>
                         <div class="single-job-items mb-30">
                            <div class="job-items">
                                <div class="company-img">
                                    <a href="job_details.html"><img src="assets/img/icon/job-list4.png" alt=""></a>
                                </div>
                                <div class="job-tittle">
                                    <a href="job_details.html"><h4>Digital Marketer</h4></a>
                                    <ul>
                                        <li>Creative Agency</li>
                                        <li><i class="fas fa-map-marker-alt"></i>Johannesburg, SA</li>
                                        <li>R3500 - R10000</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="items-link f-right">
                                <a href="job_details.html">Full Time</a>
                                <span>7 hours ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="browse-btn2 text-center mt-50">
                        <a href="job_listing.html" class="border-btn2">View All Jobs</a>
                    </div>
                </div>
            </div>
        </section>
        <div class="apply-process-area apply-bg pt-150 pb-150" data-background="assets/img/gallery/how-applybg.png">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle white-text text-center">
                            <span>Apply process</span>
                            <h2> How it works</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-6">
                        <div class="single-process text-center mb-30">
                            <div class="process-ion">
                                <span class="flaticon-search"></span>
                            </div>
                            <div class="process-cap">
                                <h5>1. Search a job</h5>
                                <p>Search for job you want</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="single-process text-center mb-30">
                            <div class="process-ion">
                                <span class="flaticon-curriculum-vitae"></span>
                            </div>
                            <div class="process-cap">
                                <h5>2. Apply for job</h5>
                                <p>Submit your application with all relevant documents.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="single-process text-center mb-30">
                            <div class="process-ion">
                                <span class="flaticon-tour"></span>
                            </div>
                            <div class="process-cap">
                                <h5>3. Wait for feedback</h5>
                                <p>The recruiter will provide feedback on your application.</p>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
        </div>
        </main>
    <footer>
        <div class="footer-area footer-bg footer-padding">
            <div class="container">
                <div class="row d-flex justify-content-between">
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                       <div class="single-footer-caption mb-50">
                           <div class="single-footer-caption mb-30">
                                <div class="footer-tittle">
                                    <h4>About Us</h4>
                                    <div class="footer-pera">
                                        <p>Internship & Job Portal Hub. A place where you can find your dream job.</p>
                                </div>
                                </div>
                           </div>
                       </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-5">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Important Link</h4>
                                <ul>
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="job_listing.html">Find Jobs</a></li>
                                    <li><a href="contact.html">Contact</a></li>
                                    <li><a href="about.html">About Us</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-5">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Newsletter</h4>
                                <div class="footer-pera footer-pera2">
                                       <p>Sign up to our newsletter to be updated with new postings!</p>
                                </div>
                                <div class="footer-form" >
                                    <div id="mc_embed_signup">
                                        <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                                        method="get" class="subscribe_form relative mail_part">
                                            <input type="email" name="email" id="newsletter-form-email" placeholder="Email Address"
                                            class="placeholder hide-on-focus" onfocus="this.placeholder = ''"
                                            onblur="this.placeholder = ' Email Address '">
                                            <div class="form-icon">
                                                <button type="submit" name="submit" id="newsletter-submit"
                                                class="email_icon newsletter-submit button-contactForm"><img src="assets/img/icon/form.png" alt="Subscribe"></button>
                                            </div>
                                            <div class="mt-10 info"></div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </footer>

    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
        <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
        <script src="./assets/js/popper.min.js"></script>
        <script src="./assets/js/bootstrap.min.js"></script>
        <script src="./assets/js/jquery.slicknav.min.js"></script>
        <script src="./assets/js/owl.carousel.min.js"></script>
        <script src="./assets/js/slick.min.js"></script>
        <script src="./assets/js/price_rangs.js"></script>
        <script src="./assets/js/wow.min.js"></script>
        <script src="./assets/js/animated.headline.js"></script>
        <script src="./assets/js/jquery.magnific-popup.js"></script>
        <script src="./assets/js/jquery.scrollUp.min.js"></script>
        <script src="./assets/js/jquery.nice-select.min.js"></script>
        <script src="./assets/js/jquery.sticky.js"></script>
        <script src="./assets/js/contact.js"></script>
        <script src="./assets/js/jquery.form.js"></script>
        <script src="./assets/js/jquery.validate.min.js"></script>
        <script src="./assets/js/mail-script.js"></script>
        <script src="./assets/js/jquery.ajaxchimp.min.js"></script>
        <script src="./assets/js/plugins.js"></script>
        <script src="./assets/js/main.js"></script>

        <script>
    const jobCountsApiUrl = 'http://localhost:8000/api/job/job-counts/'; 

    const categories = [
        "Design-Creative",
        "Development",
        "Sales-Marketing",
        "Mobile-Application",
        "Construction",
        "IT",
        "Real-Estate",
        "Content-Writer"
    ];

    function renderJobCounts(jobCountsData) {
        categories.forEach(categoryKey => {
            const count = jobCountsData[categoryKey] || 0; 
            const span = document.querySelector(`.job-count[data-category="${categoryKey}"]`);
            
            if (span) {
                span.textContent = `(${count} Jobs)`;
            }
        });
    }

    function fetchAndDisplayJobCounts() {
        document.querySelectorAll('.job-count').forEach(span => {
             span.textContent = `(Loading...)`;
        });
        
        fetch(jobCountsApiUrl)
            .then(response => {
                if (!response.ok) {
                    console.error(`API Error: ${response.statusText}`);
                    throw new Error(`Failed to load job counts (HTTP ${response.status})`);
                }
                return response.json();
            })
            .then(jobCountsData => {
                renderJobCounts(jobCountsData);
            })
            .catch(error => {
                console.error('API Fetch failed:', error);
                document.querySelectorAll('.job-count').forEach(span => {
                    span.textContent = `(Error loading)`;
                });
            });
    }

    document.addEventListener('DOMContentLoaded', function() {
        
        const token = localStorage.getItem("authToken");
        const userRole = localStorage.getItem("userType");
        const username = localStorage.getItem("username") || "My Account";
        const headerBtnContainer = document.querySelector(".header-btn");


        if (headerBtnContainer) {
            if (token) {
                headerBtnContainer.innerHTML = `
                    <a href="studentprofile.html" class="btn head-btn1">${username}</a>
                    <a href="#" id="logoutBtn" class="btn head-btn2">Logout</a>
                `;
                document.getElementById("logoutBtn")?.addEventListener("click", e => {
                    e.preventDefault();
                    localStorage.clear();
                    window.location.href = "loginpage.html";
                });
            } else {
                headerBtnContainer.innerHTML = `
                    <a href="loginpage.html" class="btn head-btn1">Login</a>
                    <a href="registrationpage.html" class="btn head-btn2">Register</a>
                `;
            }
            headerBtnContainer.classList.remove("d-none");
        }




        fetchAndDisplayJobCounts();
        
        const userType = localStorage.getItem('userType');
        const myAppLink = document.getElementById('nav-myapplications');
        const empAdminLink = document.getElementById('nav-employeradmin');


        if (userRole == "student") {
            document.getElementById("nav-employeradmin")?.style.setProperty("display","none");
            
            return;
        }


        const myAppLi = myAppLink ? myAppLink.closest('li') : null;
        const empAdminLi = empAdminLink ? empAdminLink.closest('li') : null;

        if (myAppLi && empAdminLi) {
            if (userType === 'employer') {
                myAppLi.style.display = 'none';
                empAdminLi.style.display = 'block'; 
            } else if (userType === 'student') { 
                empAdminLi.style.display = 'none';
                myAppLi.style.display = 'block';
            } else {
                myAppLi.style.display = 'none';
                empAdminLi.style.display = 'none';
            }        }
        
        // Location autocomplete functionality
        initLocationAutocomplete();
    });
    
    // Location autocomplete implementation
    function initLocationAutocomplete() {
        const locationInput = document.getElementById('locationInput');
        const suggestionsContainer = document.getElementById('locationSuggestions');
        let currentFocus = -1;
        
        // Sample locations for demonstration - in production, this would come from an API
        const sampleLocations = [
            'New York, NY, USA',
            'Los Angeles, CA, USA',
            'Chicago, IL, USA',
            'Houston, TX, USA',
            'Phoenix, AZ, USA',
            'Philadelphia, PA, USA',
            'San Antonio, TX, USA',
            'San Diego, CA, USA',
            'Dallas, TX, USA',
            'San Jose, CA, USA',
            'Austin, TX, USA',
            'Jacksonville, FL, USA',
            'Fort Worth, TX, USA',
            'Columbus, OH, USA',
            'Charlotte, NC, USA',
            'San Francisco, CA, USA',
            'Indianapolis, IN, USA',
            'Seattle, WA, USA',
            'Denver, CO, USA',
            'Washington, DC, USA',
            'Boston, MA, USA',
            'El Paso, TX, USA',
            'Nashville, TN, USA',
            'Detroit, MI, USA',
            'Oklahoma City, OK, USA',
            'Portland, OR, USA',
            'Las Vegas, NV, USA',
            'Memphis, TN, USA',
            'Louisville, KY, USA',
            'Baltimore, MD, USA',
            'Milwaukee, WI, USA',
            'Albuquerque, NM, USA',
            'Tucson, AZ, USA',
            'Fresno, CA, USA',
            'Sacramento, CA, USA',
            'Mesa, AZ, USA',
            'Kansas City, MO, USA',
            'Atlanta, GA, USA',
            'Long Beach, CA, USA',
            'Colorado Springs, CO, USA',
            'Raleigh, NC, USA',
            'Miami, FL, USA',
            'Virginia Beach, VA, USA',
            'Omaha, NE, USA',
            'Oakland, CA, USA',
            'Minneapolis, MN, USA',
            'Tulsa, OK, USA',
            'Arlington, TX, USA',
            'Tampa, FL, USA',
            'New Orleans, LA, USA'
        ];
        
        if (!locationInput || !suggestionsContainer) return;
        
        locationInput.addEventListener('input', function() {
            const query = this.value.trim();
            currentFocus = -1;
            
            if (query.length < 2) {
                hideSuggestions();
                return;
            }
            
            // Filter locations based on input
            const filteredLocations = sampleLocations.filter(location => 
                location.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 8); // Limit to 8 suggestions
            
            displaySuggestions(filteredLocations);
        });
        
        locationInput.addEventListener('keydown', function(e) {
            const suggestions = suggestionsContainer.querySelectorAll('.location-suggestion-item');
            
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                currentFocus++;
                if (currentFocus >= suggestions.length) currentFocus = 0;
                setActive(suggestions);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                currentFocus--;
                if (currentFocus < 0) currentFocus = suggestions.length - 1;
                setActive(suggestions);
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (currentFocus > -1 && suggestions[currentFocus]) {
                    selectLocation(suggestions[currentFocus].textContent);
                }
            } else if (e.key === 'Escape') {
                hideSuggestions();
            }
        });
        
        // Hide suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!locationInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
                hideSuggestions();
            }
        });
        
        function displaySuggestions(locations) {
            if (locations.length === 0) {
                hideSuggestions();
                return;
            }
            
            suggestionsContainer.innerHTML = '';
            locations.forEach(location => {
                const item = document.createElement('div');
                item.className = 'location-suggestion-item';
                item.textContent = location;
                item.addEventListener('click', () => selectLocation(location));
                suggestionsContainer.appendChild(item);
            });
            
            suggestionsContainer.style.display = 'block';
        }
        
        function hideSuggestions() {
            suggestionsContainer.style.display = 'none';
            currentFocus = -1;
        }
        
        function selectLocation(location) {
            locationInput.value = location;
            hideSuggestions();
        }
        
        function setActive(suggestions) {
            suggestions.forEach((item, index) => {
                item.classList.toggle('active', index === currentFocus);
            });
        }
    }
</script>
        
    </body>
</html>